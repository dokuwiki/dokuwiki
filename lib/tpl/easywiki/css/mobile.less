/**
 * This file provides styles for mobile devices
 * and smaller screens (up to 480px and 768px width).
 *
 * @author Anika Henke <anika@selfthinker.org>
 */

/* for detecting media queries in JavaScript (see script.js): */
#screen__mode {
    position: relative;
    z-index: 0;
}

/* for screen widths in the tablet range
********************************************************************/
@media only screen and (max-width: @ini_tablet_width) {

#screen__mode {
    z-index: 1; /* for detecting media queries in JavaScript (see script.js) */
}

/* structure */
#easywiki__aside {
    width: 100%;
    float: none;
    margin-bottom: 1.5em;
}

#easywiki__aside > .pad,
[dir=rtl] #easywiki__aside > .pad {
    margin: 0 0 .5em;
    /* style like .page */
    background: @ini_background;
    color: inherit;
    border: 1px solid #eee;
    box-shadow: 0 0 .5em @ini_text_alt;
    border-radius: 2px;
    padding: 1em;
    margin-bottom: .5em;
}

#easywiki__aside h3.toggle {
    font-size: 1em;

    &.closed {
        margin-bottom: 0;
        padding-bottom: 0;
    }
    &.open {
        border-bottom: 1px solid @ini_border;
    }
}

.showSidebar #easywiki__content {
    float: none;
    margin-left: 0;
    width: 100%;

    > .pad {
        margin-left: 0;
    }
}

[dir=rtl] .showSidebar #easywiki__content,
[dir=rtl] .showSidebar #easywiki__content > .pad {
    margin-right: 0;
}

/* preview */
.easywiki.hasSidebar div.preview {
    border-right: none;
}

[dir=rtl] .easywiki.hasSidebar div.preview {
    border-left: none;
}

/* toc */
#dw__toc {
    float: none;
    margin: 0 0 1em 0;
    width: auto;
    border-left-width: 0;
    border-bottom: 1px solid @ini_border;
}
[dir=rtl] #dw__toc {
    float: none;
    margin: 0 0 1em 0;
    border-right-width: 0;
}

.easywiki h3.toggle {
    padding: 0 .5em .5em 0;
}
#dw__toc > div,
#easywiki__aside div.content {
    padding: .2em 0 .5em;
}

/* page */
.easywiki div.page {
    padding: 1em;
}
/* enable horizontal scrolling in media manager */
.mode_media div.page {
    overflow: auto;
}

/* push pagetools closer to content */
#easywiki__pagetools {
    top: 0;
}
.showSidebar #easywiki__pagetools {
    top: 3.5em;
}


/* _edit */
.easywiki div.section_highlight {
    margin: 0 -1em;
    padding: 0 .5em;
    border-width: 0 .5em;
}
.easywiki div.preview {
    margin: 0 -1em;
    padding: 1em;
}

/* _recent */
.easywiki form.changes ul {
    padding-left: 0;
}
[dir=rtl] .easywiki form.changes ul {
    padding-right: 0;
}


} /* /@media */


/* for screen widths in the smartphone range
********************************************************************/
@media only screen and (max-width: @ini_phone_width) {

#screen__mode {
    z-index: 2; /* for detecting media queries in JavaScript (see script.js) */
}

body {
    font-size: 100%;
}

/*____________ structure ____________*/

#easywiki__site {
    max-width: 100%;

    > .site {
        padding: 0 .5em;
    }
}

#easywiki__aside {
    margin-bottom: 0;
}

#easywiki__header {
    padding: .5em 0;
}


/*____________ header ____________*/

#easywiki__header ul.a11y.skip {
    position: static !important;
    left: 0 !important;
    width: auto !important;
    height: auto !important;
    float: right;
    font-size: 0.875em;
    list-style: none;
    padding-left: 0;
    margin: 0;

    li {
        margin-left: .35em;
        display: inline;
    }
}
[dir=rtl] #easywiki__header ul.a11y.skip {
    left: auto !important;
    right: 0 !important;
    float: left;
    padding-right: 0;

    li {
        margin: 0 .35em 0 0;
    }
}

#easywiki__header .headings,
#easywiki__header .tools {
    float: none;
    text-align: left;
    width: auto;
    margin-bottom: .5em;
}
[dir=rtl] #easywiki__header .headings,
[dir=rtl] #easywiki__header .tools {
    float: none;
    text-align: right;
    width: auto;
}
#easywiki__sitetools {
    text-align: left;
}
[dir=rtl] #easywiki__sitetools {
    text-align: right;
}
#easywiki__usertools,
#easywiki__sitetools ul,
#easywiki__sitetools h3,
#easywiki__pagetools,
.easywiki div.breadcrumbs, /* @todo: maybe move breadcrumbs to the bottom? */
.easywiki .pageId {
    display: none;
}

/* search form */
#easywiki__sitetools form.search {
    float: left;
    margin: 0 .2em .2em 0;
    width: 49%;
}
[dir=rtl] #easywiki__sitetools form.search {
    float: right;
    margin: 0 0 .2em .2em;
}

#easywiki__sitetools form.search input {
    width: 100% !important;
}
.easywiki form.search div.ajax_qsearch {
    display: none !important;
}

/* action dropdown is alternative for all hidden tools */
#easywiki__header .mobileTools {
    display: block;
    font-size: 0.875em;
    margin: 0 0 .2em 0;
    float: right;
    width: 49%;
}
[dir=rtl] #easywiki__header .mobileTools {
    float: left;
}
#easywiki__header .mobileTools select {
    padding: .3em .1em;
    width: 100% !important;
}

/* force same height on search input and tools select */
#easywiki__sitetools form.search input,
#easywiki__header .mobileTools select {
    height: 2.1em;
    line-height: 2.1em;
    overflow: visible;
}


/*____________ content ____________*/

#easywiki__aside > .pad,
.easywiki div.page {
    padding: .5em;
}

/* form elements */
#config__manager fieldset td.value,
#config__manager td .input,
.easywiki fieldset,
.easywiki input.edit,
.easywiki textarea {
    width: auto !important;
    max-width: 100% !important;
}
.easywiki select {
    max-width: 100% !important;
}
#config__manager fieldset {
    margin-left: 0;
    margin-right: 0;
}

.easywiki label.block {
    text-align: left;

    span {
        display: block;
    }
}
[dir=rtl] .easywiki label.block {
    text-align: right;
}

/* _edit */
.easywiki div.section_highlight {
    margin: 0;
    padding: 0;
    border-width: 0;
}
.easywiki div.preview {
    margin: 0 -.5em;
    padding: .5em;
}


} /* /@media */


/* for screen heights smaller than the pagetools permit
********************************************************************/
@media only screen and (max-height: 400px) {
// 400px is only roughly the required value, this may be wrong under non-standard circumstances

#easywiki__pagetools div.tools {
    position: static;
}


} /* /@media */
